/**
 * @file macro_CNN_RISCV.h
 * @author Ravoahangy Christian
 * @author Noizette Luc
 * @brief This is the macro that will regroup all the constants of the CNN for the RISCV project
 * @version 0.1
 * @date 2019-12-08
 * 
 */

#ifndef MACRO_CNN_RISCV_H
#define MACRO_CNN_RISCV_H

// Index calculation 2D : 
#define indexCalculation2D(x, y, widht, height) ( x + (y*widht))

// Index calculation 4D : Matrix of coefs
#define indexCalculation(x, y, z, c, widht, height, depth, canal) ((x*depth*canal) + (y*widht*depth*canal) + (z*canal) + c)


// Informations of the coefs
#define COEFS_TYPE float
#define IMG_RESIZE_OUT_TYPE float 

#define CONV1_BIASES_SIZE 64
#define CONV1_BIASES_TYPE COEFS_TYPE
#define CONV1_WEIGHTS_WIDTH 3
#define CONV1_WEIGHTS_HEIGHT 3
#define CONV1_WEIGHTS_DEPTH 3
#define CONV1_WEIGHTS_CANAL 64
#define CONV1_WEIGHTS_SIZE CONV1_WEIGHTS_WIDTH*CONV1_WEIGHTS_HEIGHT*CONV1_WEIGHTS_DEPTH*CONV1_WEIGHTS_CANAL
#define CONV1_WEIGHTS_TYPE COEFS_TYPE

#define CONV2_BIASES_SIZE 32
#define CONV2_BIASES_TYPE COEFS_TYPE
#define CONV2_WEIGHTS_WIDTH 3
#define CONV2_WEIGHTS_HEIGHT 3
#define CONV2_WEIGHTS_DEPTH 64
#define CONV2_WEIGHTS_CANAL 32
#define CONV2_WEIGHTS_SIZE CONV2_WEIGHTS_WIDTH*CONV2_WEIGHTS_HEIGHT*CONV2_WEIGHTS_DEPTH*CONV2_WEIGHTS_CANAL
#define CONV2_WEIGHTS_TYPE COEFS_TYPE

#define CONV3_BIASES_SIZE 20
#define CONV3_BIASES_TYPE COEFS_TYPE
#define CONV3_WEIGHTS_WIDTH 3
#define CONV3_WEIGHTS_HEIGHT 3
#define CONV3_WEIGHTS_DEPTH 32
#define CONV3_WEIGHTS_CANAL 20
#define CONV3_WEIGHTS_SIZE CONV3_WEIGHTS_WIDTH*CONV3_WEIGHTS_HEIGHT*CONV3_WEIGHTS_DEPTH*CONV3_WEIGHTS_CANAL
#define CONV3_WEIGHTS_TYPE COEFS_TYPE

#define LOCAL3_BIASES_SIZE 10
#define LOCAL3_BIASES_TYPE COEFS_TYPE
#define LOCAL3_WEIGHTS_WIDTH 180
#define LOCAL3_WEIGHTS_HEIGHT 10
#define LOCAL3_WEIGHTS_SIZE LOCAL3_WEIGHTS_WIDTH*LOCAL3_WEIGHTS_HEIGHT
#define LOCAL3_WEIGHTS_TYPE COEFS_TYPE


// Informations Maxpool
#define MAXPOOL_SIZE 3
#define MAXPOOL_STRIDE 2


// Informations of the matrix at different step of the CNN
#define CNN_GLOBAL_TYPE float
#define CNN_MAX_STEP_SIZE CNN_CONV1_OUTPUT_WIDHT*CNN_CONV1_OUTPUT_HEIGHT*CNN_CONV1_OUTPUT_DEPTH

#define CNN_CONV1_OUTPUT_WIDHT 24
#define CNN_CONV1_OUTPUT_HEIGHT 24
#define CNN_CONV1_OUTPUT_DEPTH 64

#define CNN_MAXPOOL1_OUTPUT_WIDHT 12
#define CNN_MAXPOOL1_OUTPUT_HEIGHT 12
#define CNN_MAXPOOL1_OUTPUT_DEPTH 64

#define CNN_CONV2_OUTPUT_WIDHT 12
#define CNN_CONV2_OUTPUT_HEIGHT 12
#define CNN_CONV2_OUTPUT_DEPTH 32

#define CNN_MAXPOOL2_OUTPUT_WIDHT 6
#define CNN_MAXPOOL2_OUTPUT_HEIGHT 6
#define CNN_MAXPOOL2_OUTPUT_DEPTH 32

#define CNN_CONV3_OUTPUT_WIDHT 6
#define CNN_CONV3_OUTPUT_HEIGHT 6
#define CNN_CONV3_OUTPUT_DEPTH 20

#define CNN_MAXPOOL3_OUTPUT_WIDHT 3
#define CNN_MAXPOOL3_OUTPUT_HEIGHT 3
#define CNN_MAXPOOL3_OUTPUT_DEPTH 20

#define CNN_PERCEPTRON_INPUT_TYPE float
#define CNN_PERCEPTRON_INPUT_SIZE 180
#define CNN_PERCEPTRON_OUTPUT_TYPE float
#define CNN_PERCEPTRON_OUTPUT_SIZE 10

#endif /* MACRO_CNN_RISCV_H */
